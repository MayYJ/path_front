<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE mapper        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.may.routeplansystem.dao.NodeDao">    <resultMap id="nodeMap" type="com.may.routeplansystem.entity.po.NodePojo">        <id property="nodeId" column="node_id" jdbcType="INTEGER"/>        <result property="questionId" column="question_id" jdbcType="INTEGER"/>        <result property="nodeName" column="node_name" jdbcType="VARCHAR"/>        <result property="nodeAddress" column="node_address" jdbcType="VARCHAR"/>        <result property="lat" column="lat" jdbcType="DOUBLE"/>        <result property="lng" column="lng" jdbcType="DOUBLE"/>        <result property="isCenter" column="is_center" jdbcType="TINYINT"/>        <result property="delFlag" column="del_flag" jdbcType="TINYINT"/>    </resultMap>    <sql id="SELECT_RESULT">        node_id,question_id,node_name,node_address,lat,lng,is_center,del_flag    </sql>    <sql id="insert_column">        question_id,node_name,node_address,lat,lng,is_center,del_flag    </sql>    <insert id="insertNode" parameterType="com.may.routeplansystem.entity.po.NodePojo"            useGeneratedKeys="true" keyProperty="nodeId">        INSERT        INTO node (node_id,question_id,node_name,node_address,lat,lng,is_center,del_flag)        VALUES (#{nodeId},#{questionId},#{nodeName},#{nodeAddress},#{lat},#{lng},#{isCenter},#{delFlag})    </insert>    <insert id="insertNodeBatch" parameterType="java.util.List"            useGeneratedKeys="true" keyProperty="nodeId">        insert into node(<include refid="insert_column"/>)        values        <foreach collection="list" item="node" separator=",">            (#{node.questionId},#{node.nodeName},#{node.nodeAddress},#{node.lat},            #{node.lng},#{node.isCenter},#{node.delFlag})        </foreach>    </insert>    <delete id="deleteNodeByNodeId" parameterType="java.lang.Integer">        DELETE        FROM node        WHERE node_id = #{nodeId}    </delete>    <delete id="deleteNodeByQuestionId" parameterType="java.lang.Integer">        DELETE        FROM node        WHERE question_id = #{questionId}    </delete>    <delete id="deleteNodeByNodeName" parameterType="java.lang.String">        DELETE        FROM node        WHERE node_name = #{nodeName}    </delete>    <update id="updateNodeByNodeId" parameterType="com.may.routeplansystem.entity.po.NodePojo">        UPDATE node        SET question_id = #{questionId},        node_name = #{nodeName},        node_address = #{nodeAddress},        lat = #{lat},        lng = #{lng},        is_center = #{isCenter},        del_flag = #{delFlag}        WHERE node_id = #{nodeId}    </update>    <select id="selectNodeByNodeId" parameterType="java.lang.Integer" resultMap="nodeMap">        SELECT        <include refid="SELECT_RESULT"/>        FROM node        WHERE node_id = #{nodeId}    </select>    <select id="selectNodeByNodeName" parameterType="java.lang.String" resultMap="nodeMap">        SELECT        <include refid="SELECT_RESULT"/>        FROM node        WHERE node_name = #{nodeName}    </select>    <select id="selectCenterNode" parameterType="java.lang.Integer" resultMap="nodeMap">        SELECT        <include refid="SELECT_RESULT"/>        FROM node        WHERE is_center = 1 AND question_id = #{questionId}    </select>    <select id="selectServiceNode" parameterType="java.lang.Integer" resultMap="nodeMap">        SELECT        <include refid="SELECT_RESULT"/>        FROM node        WHERE is_center = 0 AND question_id = #{questionId}    </select>    <select id="selectAllNodes" parameterType="java.lang.Integer" resultMap="nodeMap">        SELECT        <include refid="SELECT_RESULT"/>        FROM node        WHERE question_id = #{questionId}    </select></mapper>   